%% plot_strategies: a function to plot
function plot_strategies(Coords, Goal, Policy, P, AllVisitedStates, VisitedStates, GroundTruth, NamePrefix, Iteration)

	global UP DOWN LEFT RIGHT
	global TO_GOAL

	OutName = [NamePrefix '_path_' num2str(Iteration) '.pdf'];
    
C = [255,0,0;
255,1,0;
254,2,0;
253,3,0;
252,4,0;
251,5,0;
250,6,0;
249,7,0;
248,8,0;
247,9,0;
246,10,0;
246,11,0;
245,11,0;
244,12,0;
243,13,0;
242,14,0;
241,15,0;
240,16,0;
239,17,0;
238,18,0;
237,19,0;
236,20,0;
235,21,0;
234,22,0;
233,23,0;
232,24,0;
232,25,0;
231,26,0;
230,27,0;
229,28,0;
228,29,0;
227,30,0;
226,31,0;
225,32,0;
224,33,0;
223,34,0;
222,34,0;
221,35,0;
220,36,0;
219,37,0;
218,38,0;
218,39,0;
217,40,0;
216,41,0;
215,42,0;
214,43,0;
213,44,0;
212,45,0;
211,46,0;
210,47,0;
209,48,0;
208,49,0;
207,50,0;
206,51,0;
205,52,0;
204,53,0;
204,54,0;
203,55,0;
202,56,0;
201,56,0;
200,57,0;
199,58,0;
198,59,0;
197,60,0;
196,61,0;
195,62,0;
194,64,0;
193,65,0;
192,66,0;
191,67,0;
190,68,0;
189,69,0;
188,70,0;
187,71,0;
186,72,0;
185,73,0;
184,75,0;
183,76,0;
182,77,0;
181,78,0;
180,79,0;
179,80,0;
177,81,0;
176,82,0;
175,83,0;
174,84,0;
173,86,0;
172,87,0;
171,88,0;
170,89,0;
169,90,0;
168,91,0;
167,92,0;
166,93,0;
165,94,0;
164,96,0;
163,97,0;
162,98,0;
161,99,0;
160,100,0;
159,101,0;
158,102,0;
157,103,0;
156,104,0;
155,105,0;
154,107,0;
153,108,0;
152,109,0;
151,110,0;
150,111,0;
149,112,0;
148,113,0;
147,114,0;
146,115,0;
145,116,0;
143,118,0;
142,119,0;
141,120,0;
140,121,0;
139,122,0;
138,123,0;
137,124,0;
136,125,0;
135,126,0;
134,128,0;
133,129,0;
132,130,0;
131,131,0;
130,132,0;
129,133,0;
128,134,0;
127,135,0;
126,136,0;
125,137,0;
124,138,0;
122,139,0;
121,140,0;
120,141,0;
119,142,0;
118,143,0;
117,143,0;
116,144,0;
115,145,0;
114,146,0;
113,147,0;
112,148,0;
111,149,0;
110,150,0;
108,151,0;
107,152,0;
106,153,0;
105,154,0;
104,155,0;
103,156,0;
102,157,0;
101,158,0;
100,159,0;
99,160,0;
98,161,0;
97,162,0;
96,163,0;
94,164,0;
93,165,0;
92,166,0;
91,167,0;
90,168,0;
89,169,0;
88,170,0;
87,171,0;
86,172,0;
85,173,0;
84,174,0;
83,175,0;
82,175,0;
80,176,0;
79,177,0;
78,178,0;
77,179,0;
76,180,0;
75,181,0;
74,182,0;
73,183,0;
72,184,0;
71,185,0;
70,186,0;
69,187,0;
67,188,0;
66,189,0;
65,190,0;
64,191,0;
63,192,0;
62,193,0;
61,194,0;
60,195,0;
59,196,0;
58,197,0;
57,198,0;
56,199,0;
55,200,0;
54,201,0;
53,202,0;
52,203,0;
51,204,0;
50,205,0;
49,206,0;
48,207,0;
48,207,0;
47,208,0;
46,209,0;
45,210,0;
44,211,0;
43,212,0;
42,213,0;
41,214,0;
40,215,0;
39,216,0;
38,217,0;
37,218,0;
36,219,0;
35,220,0;
34,221,0;
33,222,0;
32,223,0;
31,224,0;
30,225,0;
29,226,0;
28,227,0;
27,228,0;
26,229,0;
25,230,0;
24,231,0;
23,232,0;
22,233,0;
21,234,0;
20,235,0;
19,236,0;
18,237,0;
17,238,0;
16,239,0;
16,239,0;
15,240,0;
14,241,0;
13,242,0;
12,243,0;
11,244,0;
10,245,0;
9,246,0;
8,247,0;
7,248,0;
6,249,0;
5,250,0;
4,251,0;
3,252,0;
2,253,0;
1,254,0;
0,255,0]

    colormap(C/255); % in matlab

	CoordsMat = cell2mat(Coords);
	CoordsMat = [CoordsMat; Goal];

	angles = Policy;
	angles(angles == UP) = 0;
	angles(angles == DOWN) = pi;
	angles(angles == RIGHT) = pi/2;
	angles(angles == LEFT) = -pi/2;
	angles(angles == TO_GOAL) = pi/4;
	color = P{TO_GOAL}(:, end);
	%color = [1-color, color, zeros(size(color))];

	ColorGroundTruth = [1 - GroundTruth, GroundTruth, zeros(size(GroundTruth))];

	fh = figure(1);
	clf;
	hold on;
    whitebg([1 1 1]);
	h = scatter(CoordsMat(:,1), CoordsMat(:,2), 100 , color, 'filled');
	h = scatter(CoordsMat(:,1), CoordsMat(:,2), 30, GroundTruth, 'filled');
	h = plot(CoordsMat(AllVisitedStates,1), CoordsMat(AllVisitedStates,2), '-', 'color', [0.7, 0.7, 0.7],  'linewidth', 4);
	h = plot(CoordsMat(VisitedStates,1), CoordsMat(VisitedStates,2), '-', 'color', [0.5, 0.5, 1], 'linewidth', 5);
	h = quiver (CoordsMat(:,1), CoordsMat(:,2), sin(angles), cos(angles), 0.25, 'b');
	%set (h, 'maxheadsize', 1);
	%set (h, 'linewidth', 0.5);
	axis equal;
	grid on;
	axis off;
	hold off;
    %print(fh,'-dpdf','-r300','filename')
	plotPDF(fh, OutName, [7 5]);
	waitforbuttonpress ();
	% axis ([871900, 872000, 6077450, 6077550]);
end
